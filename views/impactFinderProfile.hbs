{{>original}}
<br>
<div class="firstRowOfFinderProfile">    
    <div class="impactFinderDiv" id="impactFinderName">
        {{profile.[0].finder_name}}
        {{#if profile.[0].vetted}}
        <i class="fas fa-check vetted"></i>
        {{/if}}
    </div>
    <div class="impactFinderDiv">
        {{!-- <div><a href="" style="text-align:right;font-size:20px;text-decoration: underline;"><p>To impact Finder's project board</p></a></div> --}}
        <button id="connectButton">Connect with Impact Finder</button>
    </div>
</div>
<div class="impactFinder">
    <div class="impactFinderInfo">
        <div class="impactFinderInfoLeft">
            {{!-- <h3 style="display:inline-block">{{finder_name}}</h3> --}}
            {{#if isCurrentUserBoolean}}
                {{#if profile.[0].finder_name}}
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" >
            Edit
            </button>  
                {{else}}
                       <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            Create
            </button> 
                {{/if}} 
            {{/if}}
            {{!-- Edit Form --}}
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="staticBackdropLabel">Edit your profile</h5>
                         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                            <form id="saveProfile">
                                <div class="modal-body">
                                    <label for="impactFinderInfo">Name</label>
                                    <br>
                                    <input type="text" name="impactFinderName" value="{{profile.[0].finder_name}}" required></textarea>
                                    <br>
                                    <label for="impactFinderInfo">Information</label>
                                    <br>
                                    <textarea type="text" name="impactFinderInfo" required>{{profile.[0].finder_description}}</textarea>
                                    <br>
                                    <label for="impactFinderSize">Impact Finder Size</label>
                                    <br>
                                    <input type="number" name="impactFinderSize" id="impactFinderSize" value="{{profile.[0].finder_size}}">
                                    <br>
                                    <label for="impactFinderPhone">Phone</label>
                                    <br>
                                    <input type="number" name="impactFinderPhone" value="{{profile.[0].telephone_number}}"required></input>
                                    <br>
                                    <label for="impactFinderPhone">Mobile</label>
                                    <br>
                                    <input type="number" name="impactFinderMobile" value="{{profile.[0].mobile_number}}"required></input>
                                    <br>
                                    <label for="impactFinderEmail">Email</label>
                                    <br>
                                    <input type="text" name="impactFinderEmail" value="{{profile.[0].email}}" required></input>
                                    <br>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    {{#if profile.[0].finder_description}}
                                    <button data-bs-dismiss="modal"  class="btn btn-primary" id="SaveProfileEdits">Save</button>
                                    {{else}}
                                    <button data-bs-dismiss="modal" class="btn btn-primary" id="CreateProfileEdits">Create</button>
                                    {{/if}}
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            {{!-- Edit Form --}}
                <div class="profileInfo" id="FinderInfo">
                    <h2>Basic information</h2>
                    <hr>
                    <p>{{profile.[0].finder_description}}</p>
                    <p style="display:inline-block;width:100px">Size:</p>
                    {{profile.[0].finder_size}}
                    <br>
                    <p style="display:inline-block;width:100px">Telephone:</p>
                    {{profile.[0].telephone_number}}
                    <br>
                     <p style="display:inline-block;width:100px">Mobile:</p>
                    {{profile.[0].mobile_number}}
                    <br>
                     <p style="display:inline-block;width:100px">Email:</p>
                    {{profile.[0].email}}
                    <br>
                </div>
        </div>
    </div>
    <div class="impactFinderInfo">
        <div class="impactFinderInfoRight">
              <h2 style="display: inline-block;">More About {{profile.[0].finder_name}}</h2>
              <hr>
            {{#if isCurrentUserBoolean}}
                {{#if profile.[1]}}
                <button type="button" class="editcustomfinder btn bg-light" data-bs-toggle="modal" data-bs-target="#modalCustomfieldsEdit">edit</button>
                {{/if}}
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCustomfields" style="float:right;">
                Add
                </button> 
            {{/if}}
              {{!-- =============add customfield modal========== --}}
            <div class="modal fade" id="modalCustomfields" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="staticBackdropLabel">Edit your Finder profile</h5>
                         <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                         <form id="finderCustomField">
                            <h5 style="display:inline-block">Click 'add' to add an additional field to your profile</h5>
                            <br>
                            <label for="customeFill">
                                <input type="text" id="customFillTitle" name="customFillTitle" placeholder="Custom Title">
                            </label>
                            <br>
                            <textarea type="text" name="customFillText" placeholder="Your text here" required></textarea>
                            
                        </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button id="SaveFinderCustomField" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCustomfields">Add</button>
                        </div>
                    </div>
                </div>
            </div>
            {{!-- =============edit customfield modal========== --}}
            <div class="modal fade" id="modalCustomfieldsEdit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="staticBackdropLabelEdit">Edit your custom profile field</h5>
                         <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                         <form id="finderCustomFieldEdit">
                            <h5 style="display:inline-block">Click 'edit' to change the fields on your profile</h5>
                            <br>
                            {{#each profile.[1]}}
                            <div class="customfielddiv" data-id="{{customfield_id}}">
                                <label for="customeFill">
                            </label>
                                <input type="text" class="customFillTitleEdit" name="customFillTitleEdit" value="{{customfield_title}}">
                            <br>
                            <textarea type="text" class="customFillTitleEdit" name="customFillTextEdit" required>{{customfield_content}}</textarea>
                            <button type="button" class="removecustomfinder btn bg-light" data-id="{{customfield_id}}">remove</button>
                            </div>
                            {{/each}}
                        </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button id="editFinderCustomField" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCustomfieldsEdit">Edit</button>
                        </div>
                    </div>
                </div>
            </div>
                {{!-- ============= customfield data========== --}}
            <div id="FinderCustomField">
            {{#each profile.[1]}}
            <div style="margin-bottom:10px">
                <h4>{{customfield_title}}</h4>
                <p>{{customfield_content}}</p>
            </div>
            {{/each}}
            </div>
        </div>
    </div>
    
</div>
<br>
<div id="impactFinderJob">
    <h2>Job Board of the Finder</h2>
    <hr>
        <div class="jobList">
            {{#each profile.[2]}}
                <div class="col-lg-3 col-md-4 col-sm-12">
                        <div class="card">
                            <a href="/jobPage/{{finder_id}}">
                                <img src="/img/dummypic1.jpg" class="card-img-top">
                                <div class="card-body">
                                    <h3 class="card-title">{{job_title}}</h3>
                                    {{!-- <h5>{{finder_name}}</h5> --}}
                                    <p class="cardtext">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nostrum earum laudantium modi voluptatum magnam natus laborum, odit eum, aut placeat assumenda iure accusantium ratione quam laboriosam. Distinctio recusandae officiis molestias.</p>
                                </div>
                            </a>
                        </div>
                    </div>
            {{/each}}
    </div>
</div>
{{>copyright}}